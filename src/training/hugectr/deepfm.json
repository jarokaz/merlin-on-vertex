{
  "layers": [
    {
      "dense": {
        "dense_dim": 13,
        "top": "dense"
      },
      "label": {
        "label_dim": 1,
        "top": "label"
      },
      "sparse": [
        {
          "is_fixed_length": false,
          "nnz_per_slot": [
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2
          ],
          "slot_num": 26,
          "top": "data1",
          "type": "DistributedSlot"
        }
      ],
      "type": "Data"
    },
    {
      "bottom": "data1",
      "optimizer": {
        "adam_hparam": {
          "beta1": 0.8999999761581421,
          "beta2": 0.9990000128746033,
          "epsilon": 1.0000000116860974e-07
        },
        "type": "Adam",
        "update_type": "Global"
      },
      "sparse_embedding_hparam": {
        "combiner": "sum",
        "embedding_vec_size": 11,
        "max_vocabulary_size_global": 5814828,
        "slot_size_array": [
          19615168,
          35248,
          17095,
          7383,
          20154,
          4,
          7075,
          1404,
          63,
          13203982,
          1077816,
          300012,
          11,
          2209,
          10942,
          114,
          4,
          972,
          15,
          20417762,
          5796980,
          17498794,
          379315,
          12311,
          103,
          35
        ],
        "workspace_size_per_gpu_in_mb": 61
      },
      "top": "sparse_embedding1",
      "type": "LocalizedSlotSparseEmbeddingHash"
    },
    {
      "bottom": "sparse_embedding1",
      "leading_dim": 11,
      "time_step": 0,
      "top": "reshape1",
      "type": "Reshape"
    },
    {
      "bottom": "reshape1",
      "ranges": [
        [
          0,
          10
        ],
        [
          10,
          11
        ]
      ],
      "top": [
        "slice11",
        "slice12"
      ],
      "type": "Slice"
    },
    {
      "bottom": "slice11",
      "leading_dim": 260,
      "time_step": 0,
      "top": "reshape2",
      "type": "Reshape"
    },
    {
      "bottom": "slice12",
      "leading_dim": 26,
      "time_step": 0,
      "top": "reshape3",
      "type": "Reshape"
    },
    {
      "bottom": "dense",
      "ranges": [
        [
          0,
          13
        ],
        [
          0,
          13
        ]
      ],
      "top": [
        "slice21",
        "slice22"
      ],
      "type": "Slice"
    },
    {
      "bottom": "slice21",
      "top": "weight_multiply1",
      "type": "WeightMultiply",
      "weight_dims": [
        13,
        10
      ]
    },
    {
      "bottom": "slice22",
      "top": "weight_multiply2",
      "type": "WeightMultiply",
      "weight_dims": [
        13,
        1
      ]
    },
    {
      "bottom": [
        "reshape2",
        "weight_multiply1"
      ],
      "top": "concat1",
      "type": "Concat"
    },
    {
      "bottom": "concat1",
      "ranges": [
        [
          0,
          390
        ],
        [
          0,
          390
        ]
      ],
      "top": [
        "slice31",
        "slice32"
      ],
      "type": "Slice"
    },
    {
      "bottom": "slice31",
      "fc_param": {
        "num_output": 400
      },
      "top": "fc1",
      "type": "InnerProduct"
    },
    {
      "bottom": "fc1",
      "top": "relu1",
      "type": "ReLU"
    },
    {
      "bottom": "relu1",
      "rate": 0.5,
      "top": "dropout1",
      "type": "Dropout"
    },
    {
      "bottom": "dropout1",
      "fc_param": {
        "num_output": 400
      },
      "top": "fc2",
      "type": "InnerProduct"
    },
    {
      "bottom": "fc2",
      "top": "relu2",
      "type": "ReLU"
    },
    {
      "bottom": "relu2",
      "rate": 0.5,
      "top": "dropout2",
      "type": "Dropout"
    },
    {
      "bottom": "dropout2",
      "fc_param": {
        "num_output": 400
      },
      "top": "fc3",
      "type": "InnerProduct"
    },
    {
      "bottom": "fc3",
      "top": "relu3",
      "type": "ReLU"
    },
    {
      "bottom": "relu3",
      "rate": 0.5,
      "top": "dropout3",
      "type": "Dropout"
    },
    {
      "bottom": "dropout3",
      "fc_param": {
        "num_output": 1
      },
      "top": "fc4",
      "type": "InnerProduct"
    },
    {
      "bottom": "slice32",
      "out_dim": 10,
      "top": "fmorder2",
      "type": "FmOrder2"
    },
    {
      "axis": 1,
      "bottom": "fmorder2",
      "top": "reducesum1",
      "type": "ReduceSum"
    },
    {
      "bottom": [
        "reshape3",
        "weight_multiply2"
      ],
      "top": "concat2",
      "type": "Concat"
    },
    {
      "axis": 1,
      "bottom": "concat2",
      "top": "reducesum2",
      "type": "ReduceSum"
    },
    {
      "bottom": [
        "fc4",
        "reducesum1",
        "reducesum2"
      ],
      "top": "add",
      "type": "Add"
    },
    {
      "bottom": [
        "add",
        "label"
      ],
      "top": "loss",
      "type": "BinaryCrossEntropyLoss"
    }
  ]
}