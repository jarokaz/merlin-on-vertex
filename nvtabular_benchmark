# Testing GCS performance with NVTabular

## Provisioning a test VM

```
export INSTANCE_NAME="merlin-dev"
export VM_IMAGE_PROJECT="deeplearning-platform-release"
export VM_IMAGE_FAMILY="common-cu110"
export MACHINE_TYPE="a2-highgpu-2g"
export BUCKET_REGION="us-central1"
export BUCKET_NAME=gs://jk-criteo-bucket
export LOCATION="us-central1-c"
export ACCELERATOR_TYPE=NVIDIA_TESLA_A100
export ACCELERATOR_COUNT=2
export BOOT_DISK_SIZE=500


gcloud notebooks instances create $INSTANCE_NAME \
--location=$LOCATION \
--vm-image-project=$VM_IMAGE_PROJECT \
--vm-image-family=$VM_IMAGE_FAMILY \
--machine-type=$MACHINE_TYPE \
--accelerator-type=$ACCELERATOR_TYPE \
--accelerator-core-count=$ACCELERATOR_COUNT \
--boot-disk-size=$BOOT_DISK_SIZE \
--install-gpu-driver

```

## Preparing a Criteo dataset

```
gsutil mb -l $BUCKET_REGION $BUCKET_NAME

```
